(this["webpackJsonpbgg-browser"]=this["webpackJsonpbgg-browser"]||[]).push([[0],{212:function(e,a,t){e.exports=t(273)},218:function(e,a,t){},238:function(e,a){},240:function(e,a){},273:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(17),i=t.n(o),l=(t(217),t(218),t(10)),s=t(11),c=t(13),m=t(12),u=t(14),d=t(157),p=t.n(d),h=t(336),f=t(349),g=t(326),E=t(355),v=t(51);t(275),t(220),t(222),t(274),t(225);v.initializeApp({apiKey:"AIzaSyBhgbU4xgHOSItc4Lm27Th7kVVGT2ru6yU",authDomain:"bgg-browser.firebaseapp.com",databaseURL:"https://bgg-browser.firebaseio.com",projectId:"bgg-browser",storageBucket:"bgg-browser.appspot.com",messagingSenderId:"1087073990026",appId:"1:1087073990026:web:ede1a12f93fc7030f38473",measurementId:"G-GXRMVFGVVX"});var b=v,y=v.analytics(),C=v.auth(),w=v.firestore(),A=v.storage(),S=(v.performance(),t(39)),P=t.n(S),k=["image/gif","image/jpeg","image/png","image/webp","image/svg+xml"],O={signUp:function(e){return new Promise((function(a,t){if(e){var n=e.firstName,r=e.lastName,o=e.username,i=e.emailAddress,l=e.password;if(n&&r&&o&&i&&l)C.currentUser?t():C.createUserWithEmailAndPassword(i,l).then((function(e){var i=e.user;if(i){var l=i.uid;if(l){var s=w.collection("users").doc(l);s?s.set({firstName:n,lastName:r,username:o}).then((function(e){y.logEvent("sign_up",{method:"password"}),a(e)})).catch((function(e){t(e)})):t()}else t()}else t()})).catch((function(e){t(e)}));else t()}else t()}))},signUpWithEmailAddressAndPassword:function(e,a){return new Promise((function(t,n){e&&a?C.currentUser?n():C.createUserWithEmailAndPassword(e,a).then((function(e){var a=e.user;if(a){var r=a.uid;if(r){var o=w.collection("users").doc(r);o?o.set({},{merge:!0}).then((function(e){y.logEvent("sign_up",{method:"password"}),t(e)})).catch((function(e){n(e)})):n()}else n()}else n()})).catch((function(e){n(e)})):n()}))},signIn:function(e,a){return new Promise((function(t,n){e&&a?C.currentUser?n():(console.log("Attempting Password Sign in for ".concat(e)),C.signInWithEmailAndPassword(e,a).then((function(e){var a=e.user;if(a){var r=a.uid;if(r){var o=w.collection("users").doc(r);o?o.get({source:"server"}).then((function(e){e.exists?(y.logEvent("login",{method:"password"}),t(a)):o.set({},{merge:!0}).then((function(e){y.logEvent("login",{method:"password"}),t(a)})).catch((function(e){n(e)}))})).catch((function(e){n(e)})):n()}else n()}else n()})).catch((function(e){n(e)}))):n()}))},signInWithAuthProvider:function(e){return new Promise((function(a,t){if(e){var n=new b.auth.OAuthProvider(e);if(n){var r=C.currentUser;if(r)return console.log("Already Logged in Current User: ",r),void t();console.log("Attempting Provider (".concat(e,") Sign in")),C.signInWithPopup(n).then((function(n){var r=n.user;if(r){var o=r.uid;if(o){var i=w.collection("users").doc(o);i?(console.log("Getting user database reference"),i.get({source:"server"}).then((function(n){n.exists?(y.logEvent("login",{method:e}),console.log("User Record Exists"),a(r)):(console.log("User Record Doesn't Exist -- Creating"),i.set({},{merge:!0}).then((function(t){y.logEvent("login",{method:e}),a(r)})).catch((function(e){console.error("Unale to create user record.",e),t(e)})))})).catch((function(e){console.error("Unale to get user record.",e),t(e)}))):t()}else t()}else t()})).catch((function(e){t(e)}))}else t()}else t()}))},linkAuthProvider:function(e){return new Promise((function(a,t){if(e){var n=new b.auth.OAuthProvider(e);if(n){var r=C.currentUser;r?r.linkWithPopup(n).then((function(t){y.logEvent("link_auth_provider",{value:e}),a(t)})).catch((function(e){t(e)})):t()}else t()}else t()}))},unlinkAuthProvider:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;n?n.unlink(e).then((function(t){y.logEvent("unlink_auth_provider",{value:e}),a(t)})).catch((function(e){t(e)})):t()}else t()}))},authProviderData:function(e){if(e){var a=C.currentUser;if(a){var t=a.providerData;if(t)return t.find((function(a){return a.providerId===e}))}}},signOut:function(){return new Promise((function(e,a){C.currentUser?C.signOut().then((function(a){y.logEvent("sign_out"),e(a)})).catch((function(e){a(e)})):a()}))},resetPassword:function(e){return new Promise((function(a,t){e?C.currentUser?t():C.sendPasswordResetEmail(e).then((function(e){y.logEvent("reset_password"),a(e)})).catch((function(e){t(e)})):t()}))},changeAvatar:function(e){return new Promise((function(a,t){if(e)if(k.includes(e.type))if(e.size>20971520)t();else{var n=C.currentUser;if(n){var r=n.uid;if(r){var o=A.ref().child("images").child("avatars").child(r);o?o.put(e).then((function(e){o.getDownloadURL().then((function(e){n.updateProfile({photoURL:e}).then((function(e){y.logEvent("change_avatar"),a(e)})).catch((function(e){t(e)}))})).catch((function(e){t(e)}))})).catch((function(e){t(e)})):t()}else t()}else t()}else t();else t()}))},removeAvatar:function(){return new Promise((function(e,a){var t=C.currentUser;if(t){var n=t.uid;n?t.updateProfile({photoURL:null}).then((function(t){var r=A.ref().child("images").child("avatars").child(n);r?r.delete().then((function(a){y.logEvent("remove_avatar"),e(a)})).catch((function(e){a(e)})):a()})).catch((function(e){a(e)})):a()}else a()}))},changeFirstName:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({firstName:e}).then((function(e){y.logEvent("change_first_name"),a(e)})).catch((function(e){t(e)})):t()}else t()}else t()}else t()}))},changeLastName:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({lastName:e}).then((function(e){y.logEvent("change_last_name"),a(e)})).catch((function(e){t(e)})):t()}else t()}else t()}else t()}))},changeUsername:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({username:e}).then((function(e){y.logEvent("change_username"),a(e)})).catch((function(e){t(e)})):t()}else t()}else t()}else t()}))},changeEmailAddress:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;if(n)n.uid?n.updateEmail(e).then((function(e){y.logEvent("change_email_address"),a(e)})).catch((function(e){t(e)})):t();else t()}else t()}))},changePassword:function(e){return new Promise((function(a,t){if(e){var n=C.currentUser;if(n){var r=n.uid;r?n.updatePassword(e).then((function(e){var n=w.collection("users").doc(r);n?n.update({lastPasswordChange:b.firestore.FieldValue.serverTimestamp()}).then((function(e){y.logEvent("change_password"),a(e)})).catch((function(e){t(e)})):t()})).catch((function(e){t(e)})):t()}else t()}else t()}))},verifyEmailAddress:function(){return new Promise((function(e,a){var t=C.currentUser;t?t.sendEmailVerification().then((function(a){y.logEvent("verify_email_address"),e(a)})).catch((function(e){a(e)})):a()}))},deleteAccount:function(){return new Promise((function(e,a){var t=C.currentUser;t?t.delete().then((function(a){y.logEvent("delete_account"),e(a)})).catch((function(e){a(e)})):a()}))},user:{}};O.user.getName=function(e){if(!e)return null;var a=e.firstName,t=e.username,n=e.displayName,r=e.lastName;return a||(t||(n||(r||null)))},O.user.getFullName=function(e){if(!e)return null;var a=e.firstName,t=e.lastName,n=e.displayName;return a&&t?"".concat(a," ").concat(t):n||null},O.user.getNameInitials=function(e){if(!e)return null;var a=e.firstName,t=e.lastName,n=e.username,r=e.displayName;return a&&t?a.charAt(0)+t.charAt(0):a?a.charAt(0):n?n.charAt(0):t?t.charAt(0):r?r.charAt(0):null},O.user.getProfileCompletion=function(e){if(!e)return null;if(!(e=[e.photoURL,e.firstName,e.lastName,e.username,e.email,e.email&&e.emailVerified]))return null;var a=0;return e.forEach((function(t){t&&(a+=100/e.length)})),Math.floor(a)},O.user.getSecurityRating=function(e,a){if(!e||!e.metadata)return null;var t=e.metadata.creationTime;if(!t)return null;t=P()(t);var n=0;if(a&&a.lastPasswordChange){var r=a.lastPasswordChange;r&&(r=P()(r.toDate()),n=t.diff(r,"days")>=365.242199?50:100)}else n=P()().diff(t,"days")>=365.242199?50:100;return n};var j=O,D=t(159),x=t.n(D),N=t(195),U=t(160),I=t.n(U),T=t(161),R=t.n(T),F=t(162),_=t.n(F),L=t(163),W=t.n(L),B=t(164),K=t.n(B),G=t(165),q=t.n(G),z=t(166),M=t.n(z),V=t(167),H=t.n(V),Y=t(168),J=t.n(Y),X=t(169),$=t.n(X),Q=t(170),Z=t.n(Q),ee=t(171),ae=t.n(ee),te=t(172),ne=t.n(te),re=t(173),oe=t.n(re),ie=t(174),le=t.n(ie),se=t(175),ce=t.n(se),me=t(176),ue=t.n(me),de=t(177),pe=t.n(de),he=t(178),fe=t.n(he),ge={red:{id:"red",name:"Red",import:I.a},pink:{id:"pink",name:"Pink",import:R.a},purple:{id:"purple",name:"Purple",import:_.a},deepPurple:{id:"deep-purple",name:"Deep Purple",import:W.a},indigo:{id:"indigo",name:"Indigo",import:K.a},blue:{id:"blue",name:"Blue",import:q.a},lightBlue:{id:"light-blue",name:"Light Blue",import:M.a},cyan:{id:"cyan",name:"Cyan",import:H.a},teal:{id:"teal",name:"Teal",import:J.a},green:{id:"green",name:"Green",import:$.a},lightGreen:{id:"light-green",name:"Light Green",import:Z.a},lime:{id:"lime",name:"Lime",import:ae.a},yellow:{id:"yellow",name:"Yellow",import:ne.a},amber:{id:"amber",name:"Amber",import:oe.a},orange:{id:"orange",name:"Orange",import:le.a},deepOrange:{id:"deep-orange",name:"Deep Orange",import:ce.a},brown:{id:"brown",name:"Brown",import:ue.a},gray:{id:"gray",name:"Gray",import:pe.a},blueGray:{id:"blue-gray",name:"Blue Gray",import:fe.a}},Ee={light:{id:"light",name:"Light"},dark:{id:"dark",name:"Dark"}},ve=function(e){return e?(e=x.a.camelCase(e),ge[e]):null},be=function(e){return e?Ee[e]:null},ye=ve("indigo"),Ce=ve("orange"),we=be("light"),Ae=Object(N.a)({palette:{primary:ye.import,secondary:Ce.import,type:we.id},primaryColor:ye,secondaryColor:Ce,type:we}),Se={};Se.colors=ge,Se.types=Ee,Se.defaultPrimaryColor=ye,Se.defaultSecondaryColor=Ce,Se.defaultType=we,Se.defaultTheme=Ae,Se.isDefaultTheme=function(e){return!!e&&(e.primaryColor.id===ye.id&&e.secondaryColor.id===Ce.id&&e.type.id===we.id)},Se.createTheme=function(e){if(!e)return null;var a=e.primaryColor,t=e.secondaryColor,n=e.type;return a&&t&&n?(a=ve(a),t=ve(t),n=be(n),a&&t&&n?e=Object(N.a)({palette:{primary:a.import,secondary:t.import,type:n.id},primaryColor:a,secondaryColor:t,type:n}):null):null},Se.changeTheme=function(e){return new Promise((function(a,t){if(e){var n=e.primaryColor,r=e.secondaryColor,o=e.type;if(n&&r&&o)if(n=ve(n),r=ve(r),o=be(o),n&&r&&o){var i=C.currentUser;if(i){var l=i.uid;if(l){var s=w.collection("users").doc(l);s?s.update({theme:{primaryColor:n.id,secondaryColor:r.id,type:o.id}}).then((function(e){y.logEvent("change_theme",{value:{primaryColor:n.id,secondaryColor:r.id,type:o.id}}),a(e)})).catch((function(e){t(e)})):t()}else t()}else t()}else t();else t()}else t()}))},Se.changePrimaryColor=function(e){return new Promise((function(a,t){if(e)if(e=ve(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({"theme.primaryColor":e.id}).then((function(t){y.logEvent("change_primary_color",{value:e.id}),a(t)})).catch((function(e){t(e)})):t()}else t()}else t()}else t();else t()}))},Se.changeSecondaryColor=function(e){return new Promise((function(a,t){if(e)if(e=ve(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({"theme.secondaryColor":e.id}).then((function(t){y.logEvent("change_secondary_color",{value:e.id}),a(t)})).catch((function(e){t(e)})):t()}else t()}else t()}else t();else t()}))},Se.changeType=function(e){return new Promise((function(a,t){if(e)if(e=be(e)){var n=C.currentUser;if(n){var r=n.uid;if(r){var o=w.collection("users").doc(r);o?o.update({"theme.type":e.id}).then((function(t){y.logEvent("change_type",{value:e.id}),a(t)})).catch((function(e){t(e)})):t()}else t()}else t()}else t();else t()}))},Se.resetTheme=function(){return new Promise((function(e,a){var t=C.currentUser;if(t){var n=t.uid;if(n){var r=w.collection("users").doc(n);r?r.update({theme:b.firestore.FieldValue.delete()}).then((function(a){y.logEvent("reset_theme"),e(a)})).catch((function(e){a(e)})):a()}else a()}else a()}))};var Pe=Se,ke=t(350),Oe=t(316),je=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ke.a,{position:"absolute",top:"50%",left:"50%"},r.a.createElement(Oe.a,null))}}]),a}(n.Component),De=t(67),xe=t(319),Ne=t(320),Ue=t(73),Ie=t(321),Te=t(318),Re=t(196),Fe=t(325),_e=t(49),Le=t.n(_e);function We(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var Be=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).getAvatar=function(){var e=t.props.user;if(!e)return null;var a=e.photoURL;if(a)return r.a.createElement(Te.a,{alt:"Avatar",src:a});var n=t.props.userData;if(!n)return r.a.createElement(Le.a,null);var o=j.user.getNameInitials(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?We(t,!0).forEach((function(a){Object(De.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{},n));return o?r.a.createElement(Te.a,{alt:"Avatar"},o):r.a.createElement(Le.a,null)},t.openMenu=function(e){var a=e.currentTarget;t.setState({menu:{anchorEl:a}})},t.closeMenu=function(){t.setState({menu:{anchorEl:null}})},t.handleSettingsClick=function(){t.closeMenu(),t.props.onSettingsClick()},t.handleSignOutClick=function(){t.closeMenu(),t.props.onSignOutClick()},t.state={menu:{anchorEl:null}},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.performingAction,t=e.user,n=this.props,o=n.onSignUpClick,i=n.onSignInClick,l=this.state.menu;return r.a.createElement(xe.a,{color:"primary",position:"static"},r.a.createElement(Ne.a,{variant:"regular"},r.a.createElement(ke.a,{flexGrow:1},r.a.createElement(Ue.a,{color:"inherit",variant:"h6"},"Board Game Geek Collection Browser")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{color:"inherit",disabled:a,onClick:this.openMenu},this.getAvatar()),r.a.createElement(Re.a,{anchorEl:l.anchorEl,open:Boolean(l.anchorEl),onClose:this.closeMenu},r.a.createElement(Fe.a,{disabled:a,onClick:this.handleSettingsClick},"Settings"),r.a.createElement(Fe.a,{disabled:a,onClick:this.handleSignOutClick},"Sign out"))),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{mr:1},r.a.createElement(g.a,{color:"secondary",disabled:a,variant:"contained",onClick:o},"Sign Up")),r.a.createElement(g.a,{color:"secondary",disabled:a,variant:"contained",onClick:i},"Sign In"))))}}]),a}(n.Component);Be.defaultProps={performingAction:!1};var Ke=Be,Ge=t(97),qe=t(48),ze=t(4),Me=t(334),Ve=t(96),He=t.n(Ve),Ye=t(78),Je=t.n(Ye),Xe=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props,t=a.icon,n=a.title,o=a.description,i=a.button;return r.a.createElement("div",{className:e.center},t,n&&r.a.createElement(Ue.a,{color:"textSecondary",variant:"h4"},n),o&&r.a.createElement(Ue.a,{color:"textSecondary",variant:"subtitle1",gutterBottom:!0},o),i)}}]),a}(n.Component),$e=Object(ze.a)({center:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"}})(Xe),Qe=t(179),Ze=t(21),ea=t(327),aa=t(331),ta=t(330),na=t(328),ra=t(360),oa=t(329),ia=t(126),la=t.n(ia),sa=t(128),ca=t.n(sa),ma=t(127),ua=t.n(ma),da=t(125),pa=t.n(da),ha=t(231),fa={};fa.loadCollection=function(e){return new Promise((function(a,t){e?fa.performFetch("".concat("https://www.boardgamegeek.com/xmlapi2","/collection?username=").concat(e,"&subtype=boardgame&excludesubtype=boardgameexpansion&own=1")).then((function(e){return e.text()})).then((function(e){var t=ha.xml2json(e,{compact:!0}),n=JSON.parse(t);console.log("Fetched games. Example:",n.items.item[0]);var r=Array.from(n.items.item),o=[];r.forEach((function(e){return o.push({id:e._attributes.objectid,name:e.name._text,type:e._attributes.subtype,image:e.image._text,thumb:e.thumbnail._text,yearPublished:e.yearpublished._text})})),console.log("Fetched Collection Array: ",o),a(o)})).catch((function(e){console.error("Unable to Fectch BGG Collection: ",e),t(e)})):t()}))},fa.performFetch=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(t,n){e?fetch(e).then((function(r){if(200===r.status)t(r);else{if(a>3)return void n("Max Tries Exceeded");fa.performFetch(e,a++).then(t).catch(n)}})).catch((function(e){return n(e)})):n()}))};var ga=fa,Ea=Object(Qe.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function va(e){var a=Ea(),t=Object(Ze.a)(),n=e.count,o=e.page,i=e.rowsPerPage,l=e.onChangePage;return r.a.createElement("div",{className:a.root},r.a.createElement(Ie.a,{onClick:function(){l(0)},disabled:0===o,"aria-label":"first page"},"rtl"===t.direction?r.a.createElement(pa.a,null):r.a.createElement(la.a,null)),r.a.createElement(Ie.a,{onClick:function(){l(o-1)},disabled:0===o,"aria-label":"previous page"},"rtl"===t.direction?r.a.createElement(ua.a,null):r.a.createElement(ca.a,null)),r.a.createElement(Ie.a,{onClick:function(){l(o+1)},disabled:o>=Math.ceil(n/i)-1,"aria-label":"next page"},"rtl"===t.direction?r.a.createElement(ca.a,null):r.a.createElement(ua.a,null)),r.a.createElement(Ie.a,{onClick:function(){l(Math.max(0,Math.ceil(n/i)-1))},disabled:o>=Math.ceil(n/i)-1,"aria-label":"last page"},"rtl"===t.direction?r.a.createElement(la.a,null):r.a.createElement(pa.a,null)))}var ba=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={isLoading:!0,collection:[],page:0,rowsPerPage:5},t.handleChangePage=function(e){t.setState({page:e})},t.handleChangeRowsPerPage=function(e){t.setState({page:0,rowsPerPage:parseInt(e.target.value,10)})},t.columns=[{id:"id",label:"Game ID",minWidth:100,align:"right"},{id:"name",label:"Name (Year)"},{id:"thumb",label:"Image",maxWidth:100,align:"center"},{id:"type",label:"Game Type",minWidth:100}],t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state,t=a.isLoading,o=a.collection,i=a.page,l=a.rowsPerPage,s=20;return o.lenth<s&&(s=o.length),r.a.createElement(n.Fragment,null,t?r.a.createElement("div",{className:e.center},r.a.createElement(ke.a,{position:"absolute",top:"50%",left:"50%"},r.a.createElement(Oe.a,null))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:e.tableWrapper},r.a.createElement(ea.a,{stickyHeader:!0,className:e.table,"aria-label":"sticky custom pagination table"},r.a.createElement(na.a,null,r.a.createElement(oa.a,null,this.columns.map((function(e){return r.a.createElement(ta.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(aa.a,null,o.slice(i*l,i*l+l).map((function(a){return r.a.createElement(oa.a,{key:a.id},r.a.createElement(ta.a,{align:"right"},a.id),r.a.createElement(ta.a,{component:"th",scope:"row"},a.name," (",a.yearPublished,")"),r.a.createElement(ta.a,{align:"center"},r.a.createElement("img",{className:e.image,src:a.thumb,alt:a.name})),r.a.createElement(ta.a,null,a.type))}))))),r.a.createElement(ra.a,{component:"div",rowsPerPageOptions:[5,10,25,50],colSpan:4,count:o.length,rowsPerPage:l,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:va})))}},{key:"componentDidMount",value:function(){var e=this;ga.loadCollection(this.props.username).then((function(a){e.setState({isLoading:!1,collection:a})}))}}]),a}(n.Component),ya=Object(ze.a)((function(e){return{center:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},table:{minWidth:500},tableWrapper:{overflowX:"auto",maxHeight:"80vh",marginTop:e.spacing(3)},image:{maxHeight:75}}}))(ba),Ca=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props,t=a.user,n=a.userData;return t?n&&n.username?r.a.createElement(ya,{username:n.username}):r.a.createElement($e,{icon:r.a.createElement(He.a,{className:e.emptyStateIcon,color:"action"}),title:"Home",description:"Edit your settings and add your BGG username"}):r.a.createElement($e,{title:"Board Game Geek Collection Browser",description:"I should put some description here",button:r.a.createElement(Me.a,{className:e.button,color:"secondary",href:"https://github.com/Phoqe/react-material-ui-firebase",rel:"noopener noreferrer",target:"_blank",variant:"extended"},r.a.createElement(Je.a,{className:e.buttonIcon}),"GitHub")})}}]),a}(n.Component),wa=Object(ze.a)((function(e){return{emptyStateIcon:{fontSize:e.spacing(12)},button:{marginTop:e.spacing(1)},buttonIcon:{marginRight:e.spacing(1)}}}))(Ca),Aa=t(180),Sa=t.n(Aa),Pa=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement($e,{icon:r.a.createElement(Sa.a,{className:e.emptyStateIcon,color:"action"}),title:"Content Not Found",description:"The requested URL was not found on this server",button:r.a.createElement(Me.a,{className:e.button,color:"secondary",component:Ge.b,to:"/",variant:"extended"},r.a.createElement(He.a,{className:e.buttonIcon})," Go Home")})}}]),a}(n.Component),ka=Object(ze.a)((function(e){return{emptyStateIcon:{fontSize:e.spacing(12)},button:{marginTop:e.spacing(1)},buttonIcon:{marginRight:e.spacing(1)}}}))(Pa),Oa=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.user,t=e.userData;return r.a.createElement(Ge.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"/js-for-wp/bgg-browser-app/build",REACT_APP_NAME:"Board Game Geek Collection Browser",REACT_APP_DESCRIPTION:"This is my final project for the JS for WP Bootcamp.",REACT_APP_THEME_PRIMARY_COLOR:"indigo",REACT_APP_THEME_SECONDARY_COLOR:"orange",REACT_APP_THEME_TYPE:"light",REACT_APP_FIREBASE_API_KEY:"AIzaSyBhgbU4xgHOSItc4Lm27Th7kVVGT2ru6yU",REACT_APP_FIREBASE_AUTH_DOMAIN:"bgg-browser.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://bgg-browser.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"bgg-browser",REACT_APP_FIREBASE_STORAGE_BUCKET:"bgg-browser.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1087073990026",REACT_APP_FIREBASE_APP_ID:"1:1087073990026:web:ede1a12f93fc7030f38473",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-GXRMVFGVVX"}).REACT_APP_BASENAME},r.a.createElement(qe.c,null,r.a.createElement(qe.a,{path:"/",exact:!0},r.a.createElement(wa,{user:a,userData:t})),r.a.createElement(qe.a,null,r.a.createElement(ka,null))))}}]),a}(n.Component),ja=t(352),Da=t(28),xa=t.n(Da),Na=t(358),Ua=t(338),Ia=t(339),Ta=t(342),Ra=t(335),Fa=t(340),_a=t(357),La=t(98),Wa=t.n(La),Ba=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props,t=a.gutterBottom,n=a.performingAction,o=this.props.onAuthProviderClick,i=[{providerId:"google.com",theme:Object(N.a)({palette:{primary:{main:"#4285f4",contrastText:"#ffffff"}}}),icon:r.a.createElement(Wa.a,null),name:"Google"}];return t?r.a.createElement(Ra.a,{className:e.grid,container:!0,direction:"column",spacing:1},i.map((function(e){return r.a.createElement(Ra.a,{key:e.providerId,item:!0},r.a.createElement(h.a,{theme:e.theme},r.a.createElement(g.a,{color:"primary",disabled:n,fullWidth:!0,startIcon:e.icon,variant:"contained",onClick:function(){return o(e.providerId)}},e.name)))}))):r.a.createElement(Ra.a,{container:!0,direction:"column",spacing:1},i.map((function(e){return r.a.createElement(Ra.a,{key:e.providerId,item:!0},r.a.createElement(h.a,{theme:e.theme},r.a.createElement(g.a,{color:"primary",disabled:n,fullWidth:!0,startIcon:e.icon,variant:"contained",onClick:function(){return o(e.providerId)}},e.name)))})))}}]),a}(n.Component);Ba.defaultProps={gutterBottom:!1,performingAction:!1};var Ka=Object(ze.a)((function(e){return{grid:{marginBottom:e.spacing(2)}}}))(Ba),Ga={firstName:{presence:{allowEmpty:!1},type:"string"},lastName:{presence:{allowEmpty:!1},type:"string"},username:{length:{minimum:2,maximum:20},presence:{allowEmpty:!1},type:"string"},emailAddress:{email:{message:"^E-mail address is invalid"},presence:{allowEmpty:!1},type:"string"},emailAddressConfirmation:{email:{message:"^E-mail address confirmation is invalid"},equality:{attribute:"emailAddress",message:"^E-mail address confirmation is not equal to e-mail address"},presence:{allowEmpty:!1},type:"string"},password:{length:{minimum:6},presence:{allowEmpty:!1},type:"string"},passwordConfirmation:{equality:"password",length:{minimum:6},presence:{allowEmpty:!1},type:"string"}},qa={performingAction:!1,emailAddress:"",emailAddressConfirmation:"",password:"",passwordConfirmation:"",errors:null},za=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).signUp=function(){var e=t.state,a=e.emailAddress,n=e.emailAddressConfirmation,r=e.password,o=e.passwordConfirmation,i=xa()({emailAddress:a,emailAddressConfirmation:n,password:r,passwordConfirmation:o},{emailAddress:Ga.emailAddress,emailAddressConfirmation:Ga.emailAddressConfirmation,password:Ga.password,passwordConfirmation:Ga.passwordConfirmation});i?t.setState({errors:i}):t.setState({performingAction:!0,errors:null},(function(){j.signUpWithEmailAddressAndPassword(a,r).then((function(e){t.props.dialogProps.onClose()})).catch((function(e){var a=e.code,n=e.message;switch(a){case"auth/email-already-in-use":case"auth/invalid-email":case"auth/operation-not-allowed":case"auth/weak-password":default:return void t.props.openSnackbar(n)}})).finally((function(){t.setState({performingAction:!1})}))}))},t.signInWithAuthProvider=function(e){t.setState({performingAction:!0},(function(){j.signInWithAuthProvider(e).then((function(e){t.props.dialogProps.onClose((function(){var a=e.user,n=a.displayName,r=a.email;t.props.openSnackbar("Signed in as ".concat(n||r))}))})).catch((function(e){var a=e.code,n=e.message;switch(a){case"auth/account-exists-with-different-credential":case"auth/auth-domain-config-required":case"auth/cancelled-popup-request":case"auth/operation-not-allowed":case"auth/operation-not-supported-in-this-environment":case"auth/popup-blocked":case"auth/popup-closed-by-user":case"auth/unauthorized-domain":default:return void t.props.openSnackbar(n)}})).finally((function(){t.setState({performingAction:!1})}))}))},t.handleKeyPress=function(e){var a=t.state,n=a.emailAddress,r=a.emailAddressConfirmation,o=a.password,i=a.passwordConfirmation;if(n&&r&&o&&i){var l=e.key;e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Enter"===l&&t.signUp()}},t.handleExited=function(){t.setState(qa)},t.handleEmailAddressChange=function(e){var a=e.target.value;t.setState({emailAddress:a})},t.handleEmailAddressConfirmationChange=function(e){var a=e.target.value;t.setState({emailAddressConfirmation:a})},t.handlePasswordChange=function(e){var a=e.target.value;t.setState({password:a})},t.handlePasswordConfirmationChange=function(e){var a=e.target.value;t.setState({passwordConfirmation:a})},t.state=qa,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.state,n=t.performingAction,o=t.emailAddress,i=t.emailAddressConfirmation,l=t.password,s=t.passwordConfirmation,c=t.errors;return r.a.createElement(Na.a,Object.assign({fullWidth:!0,maxWidth:"sm"},a,{onKeyPress:this.handleKeyPress,onExited:this.handleExited}),r.a.createElement(Ua.a,null,"Sign up for an account"),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Ia.a,null,r.a.createElement(Ra.a,{container:!0,direction:"row"},r.a.createElement(Ra.a,{item:!0,xs:4},r.a.createElement(Ka,{performingAction:n,onAuthProviderClick:this.signInWithAuthProvider})),r.a.createElement(Ra.a,{item:!0,xs:1},r.a.createElement(Fa.a,{className:e.divider,orientation:"vertical"})),r.a.createElement(Ra.a,{item:!0,xs:7},r.a.createElement(Ra.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!c||!c.emailAddress),fullWidth:!0,helperText:c&&c.emailAddress?c.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:o,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!c||!c.emailAddressConfirmation),fullWidth:!0,helperText:c&&c.emailAddressConfirmation?c.emailAddressConfirmation[0]:"",label:"E-mail address confirmation",placeholder:"john@doe.com",required:!0,type:"email",value:i,variant:"outlined",onChange:this.handleEmailAddressConfirmationChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"new-password",disabled:n,error:!(!c||!c.password),fullWidth:!0,helperText:c&&c.password?c.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:l,variant:"outlined",onChange:this.handlePasswordChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"password",disabled:n,error:!(!c||!c.passwordConfirmation),fullWidth:!0,helperText:c&&c.passwordConfirmation?c.passwordConfirmation[0]:"",label:"Password confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:s,variant:"outlined",onChange:this.handlePasswordConfirmationChange}))))))),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Ia.a,null,r.a.createElement(Ka,{gutterBottom:!0,performingAction:n,onAuthProviderClick:this.signInWithAuthProvider}),r.a.createElement(Ra.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!c||!c.emailAddress),fullWidth:!0,helperText:c&&c.emailAddress?c.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:o,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!c||!c.emailAddressConfirmation),fullWidth:!0,helperText:c&&c.emailAddressConfirmation?c.emailAddressConfirmation[0]:"",label:"E-mail address confirmation",placeholder:"john@doe.com",required:!0,type:"email",value:i,variant:"outlined",onChange:this.handleEmailAddressConfirmationChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"new-password",disabled:n,error:!(!c||!c.password),fullWidth:!0,helperText:c&&c.password?c.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:l,variant:"outlined",onChange:this.handlePasswordChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"password",disabled:n,error:!(!c||!c.passwordConfirmation),fullWidth:!0,helperText:c&&c.passwordConfirmation?c.passwordConfirmation[0]:"",label:"Password confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:s,variant:"outlined",onChange:this.handlePasswordConfirmationChange}))))),r.a.createElement(Ta.a,null,r.a.createElement(g.a,{color:"primary",onClick:a.onClose},"Cancel"),r.a.createElement(g.a,{color:"primary",disabled:!o||!i||!l||!s||n,variant:"contained",onClick:this.signUp},"Sign up")))}}]),a}(n.Component),Ma=Object(ze.a)((function(e){return{icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}}))(za),Va={performingAction:!1,emailAddress:"",password:"",errors:null},Ha=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).resetPassword=function(){var e=t.state.emailAddress,a=xa()({emailAddress:e},{emailAddress:Ga.emailAddress});a?t.setState({errors:a}):t.setState({errors:null},(function(){t.setState({performingAction:!0},(function(){j.resetPassword(e).then((function(a){t.props.openSnackbar("Sent password reset e-mail to ".concat(e))})).catch((function(e){var a=e.code,n=e.message;switch(a){case"auth/invalid-email":case"auth/missing-android-pkg-name":case"auth/missing-continue-uri":case"auth/missing-ios-bundle-id":case"auth/invalid-continue-uri":case"auth/unauthorized-continue-uri":case"auth/user-not-found":default:return void t.props.openSnackbar(n)}})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.signIn=function(){var e=t.state,a=e.emailAddress,n=e.password,r=xa()({emailAddress:a,password:n},{emailAddress:Ga.emailAddress,password:Ga.password});r?t.setState({errors:r}):t.setState({performingAction:!0,errors:null},(function(){j.signIn(a,n).then((function(e){t.props.dialogProps.onClose((function(){var a=e.displayName,n=e.email;t.props.openSnackbar("Signed in as ".concat(a||n))}))})).catch((function(e){var a=e.code,n=e.message;switch(a){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":case"auth/wrong-password":default:return void t.props.openSnackbar(n)}})).finally((function(){t.setState({performingAction:!1})}))}))},t.signInWithAuthProvider=function(e){t.setState({performingAction:!0},(function(){j.signInWithAuthProvider(e).then((function(e){t.props.dialogProps.onClose((function(){var a=e.displayName,n=e.email;t.props.openSnackbar("Signed in as ".concat(a||n))}))})).catch((function(e){var a="auth/unkown",n="Unknown Auth Error";switch(e&&(a=e.code,n=e.message),a){case"auth/account-exists-with-different-credential":case"auth/auth-domain-config-required":case"auth/cancelled-popup-request":case"auth/operation-not-allowed":case"auth/operation-not-supported-in-this-environment":case"auth/popup-blocked":case"auth/popup-closed-by-user":case"auth/unauthorized-domain":default:return void t.props.openSnackbar(n)}})).finally((function(){t.setState({performingAction:!1})}))}))},t.handleKeyPress=function(e){var a=t.state,n=a.emailAddress,r=a.password;if(n&&r){var o=e.key;e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Enter"===o&&t.signIn()}},t.handleExited=function(){t.setState(Va)},t.handleEmailAddressChange=function(e){var a=e.target.value;t.setState({emailAddress:a})},t.handlePasswordChange=function(e){var a=e.target.value;t.setState({password:a})},t.state=Va,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.state,n=t.performingAction,o=t.emailAddress,i=t.password,l=t.errors;return r.a.createElement(Na.a,Object.assign({fullWidth:!0,maxWidth:"sm"},a,{onKeyPress:this.handleKeyPress,onExited:this.handleExited}),r.a.createElement(Ua.a,null,"Sign in to your account"),r.a.createElement(Ia.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Ra.a,{container:!0,direction:"row"},r.a.createElement(Ra.a,{item:!0,xs:4},r.a.createElement(Ka,{performingAction:n,onAuthProviderClick:this.signInWithAuthProvider})),r.a.createElement(Ra.a,{item:!0,xs:1},r.a.createElement(Fa.a,{className:e.divider,orientation:"vertical"})),r.a.createElement(Ra.a,{item:!0,xs:7},r.a.createElement(Ra.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!l||!l.emailAddress),fullWidth:!0,helperText:l&&l.emailAddress?l.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:o,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"current-password",disabled:n,error:!(!l||!l.password),fullWidth:!0,helperText:l&&l.password?l.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:i,variant:"outlined",onChange:this.handlePasswordChange})))))),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Ka,{gutterBottom:!0,performingAction:n,onAuthProviderClick:this.signInWithAuthProvider}),r.a.createElement(Ra.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"email",disabled:n,error:!(!l||!l.emailAddress),fullWidth:!0,helperText:l&&l.emailAddress?l.emailAddress[0]:"",label:"E-mail address",placeholder:"john@doe.com",required:!0,type:"email",value:o,variant:"outlined",onChange:this.handleEmailAddressChange})),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(_a.a,{autoComplete:"current-password",disabled:n,error:!(!l||!l.password),fullWidth:!0,helperText:l&&l.password?l.password[0]:"",label:"Password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0,type:"password",value:i,variant:"outlined",onChange:this.handlePasswordChange}))))),r.a.createElement(Ta.a,null,r.a.createElement(g.a,{color:"primary",onClick:a.onClose},"Cancel"),r.a.createElement(g.a,{color:"primary",disabled:!o||n,variant:"outlined",onClick:this.resetPassword},"Reset password"),r.a.createElement(g.a,{color:"primary",disabled:!o||!i||n,variant:"contained",onClick:this.signIn},"Sign in")))}}]),a}(n.Component),Ya=Object(ze.a)((function(e){return{icon:{marginRight:e.spacing(.5)},divider:{margin:"auto"},grid:{marginBottom:e.spacing(2)}}}))(Ha),Ja=t(356),Xa=t(351),$a=t(347),Qa=t(61),Za=t.n(Qa),et=t(192),at=t.n(et),tt=t(193),nt=t.n(tt),rt=t(99),ot=t.n(rt),it=t(194),lt=t.n(it),st=t(182),ct=t.n(st),mt=t(337),ut=t(343),dt=t(324),pt=t(277),ht=t(344),ft=t(345),gt=t(346),Et=t(132),vt=t.n(Et),bt=t(131),yt=t.n(bt),Ct=t(62),wt=t.n(Ct),At=t(184),St=t.n(At),Pt=t(185),kt=t.n(Pt),Ot=t(72),jt=t.n(Ot),Dt=t(133),xt=t.n(Dt),Nt=t(186),Ut=t.n(Nt),It=t(187),Tt=t.n(It);function Rt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ft(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Rt(t,!0).forEach((function(a){Object(De.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var _t={profileCompletion:0,securityRating:0,showingField:"",avatar:null,avatarUrl:"",firstName:"",lastName:"",username:"",emailAddress:"",performingAction:!1,loadingAvatar:!1,sentVerificationEmail:!1,errors:null},Lt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).getNameInitialsOrIcon=function(){var e=t.props.user;if(!e)return null;var a=t.props,n=a.classes,o=a.userData;if(!o)return r.a.createElement(Le.a,{className:n.personIcon});var i=j.user.getNameInitials(Ft({},e,{},o));return i||r.a.createElement(Le.a,{className:n.personIcon})},t.uploadAvatar=function(){var e=t.state.avatar;e&&t.setState({performingAction:!0,loadingAvatar:!0},(function(){j.changeAvatar(e).then((function(e){var a=t.props,n=a.user,r=a.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},n,{},r))},(function(){t.props.openSnackbar("Changed avatar")}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1,loadingAvatar:!1,avatar:null,avatarUrl:""})}))}))},t.removeAvatar=function(){var e=t.props.user,a=t.state,n=a.avatar,r=a.avatarUrl;(e.photoURL||n||r)&&(!e.photoURL&&n&&r||e.photoURL&&n&&r?(URL.revokeObjectURL(r),t.setState({avatar:null,avatarUrl:""},(function(){t.props.openSnackbar("Removed image \u201c".concat(n.name,"\u201d"),5)}))):!e.photoURL||n||r||t.setState({performingAction:!0,loadingAvatar:!0},(function(){j.removeAvatar().then((function(e){var a=t.props,n=a.user,r=a.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},n,{},r))},(function(){t.props.openSnackbar("Removed avatar")}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1,loadingAvatar:!1})}))})))},t.showField=function(e){e&&t.setState({showingField:e})},t.hideFields=function(e){t.setState({showingField:"",firstName:"",lastName:"",username:"",emailAddress:"",errors:null},(function(){e&&"function"===typeof e&&e()}))},t.changeFirstName=function(){var e=t.state.firstName,a=xa()({firstName:e},{firstName:Ga.firstName});a?t.setState({errors:a}):t.setState({errors:null},(function(){var a=t.props.userData;a&&e===a.firstName||t.setState({performingAction:!0},(function(){j.changeFirstName(e).then((function(){var e=t.props,a=e.user,n=e.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},a,{},n))},(function(){t.hideFields((function(){t.props.openSnackbar("Changed first name")}))}))})).catch((function(e){var a=e.code,n=e.message;console.log("Could Not Save user: (".concat(a,") ").concat(n)),t.props.openSnackbar(n)})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.changeLastName=function(){var e=t.state.lastName,a=xa()({lastName:e},{lastName:Ga.lastName});a?t.setState({errors:a}):t.setState({errors:null},(function(){var a=t.props.userData;a&&e===a.lastName||t.setState({performingAction:!0},(function(){j.changeLastName(e).then((function(){var e=t.props,a=e.user,n=e.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},a,{},n))},(function(){t.hideFields((function(){t.props.openSnackbar("Changed last name")}))}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.changeUsername=function(){var e=t.state.username,a=xa()({username:e},{username:Ga.username});a?t.setState({errors:a}):t.setState({errors:null},(function(){var a=t.props.userData;e!==a.username&&t.setState({performingAction:!0},(function(){j.changeUsername(e).then((function(){var e=t.props,a=e.user,n=e.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},a,{},n))},(function(){t.hideFields((function(){t.props.openSnackbar("Changed username")}))}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.changeEmailAddress=function(){var e=t.state.emailAddress,a=xa()({emailAddress:e},{emailAddress:Ga.emailAddress});a?t.setState({errors:a}):t.setState({errors:null},(function(){var a=t.props.user;e!==a.email&&t.setState({performingAction:!0},(function(){j.changeEmailAddress(e).then((function(){var e=t.props,a=e.user,n=e.userData;t.setState({profileCompletion:j.user.getProfileCompletion(Ft({},a,{},n))},(function(){t.hideFields((function(){t.props.openSnackbar("Changed e-mail address")}))}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.verifyEmailAddress=function(){t.setState({performingAction:!0},(function(){j.verifyEmailAddress().then((function(){t.setState({sentVerificationEmail:!0},(function(){t.props.openSnackbar("Sent verification e-mail")}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.deleteAccount=function(){t.setState({performingAction:!0},(function(){j.deleteAccount().then((function(){t.props.openSnackbar("Deleted account")})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.changeField=function(e){switch(e){case"first-name":return void t.changeFirstName();case"last-name":return void t.changeLastName();case"username":return void t.changeUsername();case"email-address":return void t.changeEmailAddress();default:return}},t.handleKeyDown=function(e,a){if(e&&a&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var n=e.key;n&&("Escape"===n?t.hideFields():"Enter"===n&&t.changeField(a))}},t.handleAvatarChange=function(e){if(e){var a=e.target.files;if(a){var n=a[0];if(n){["image/gif","image/jpeg","image/png","image/webp","image/svg+xml"].includes(n.type)&&(n.size>20971520||t.setState({avatar:n,avatarUrl:URL.createObjectURL(n)},(function(){t.props.openSnackbar("Selected image \u201c".concat(n.name,"\u201d"),5)})))}}}},t.handleFirstNameChange=function(e){if(e){var a=e.target.value;t.setState({firstName:a})}},t.handleLastNameChange=function(e){if(e){var a=e.target.value;t.setState({lastName:a})}},t.handleUsernameChange=function(e){if(e){var a=e.target.value;t.setState({username:a})}},t.handleEmailAddressChange=function(e){if(e){var a=e.target.value;t.setState({emailAddress:a})}},t.state=_t,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes,t=this.props,n=t.user,o=t.userData,i=this.props.onDeleteAccountClick,l=this.state,s=l.profileCompletion,c=l.securityRating,m=l.showingField,u=l.performingAction,d=l.loadingAvatar,p=l.avatar,h=l.avatarUrl,f=l.firstName,E=l.lastName,v=l.username,b=l.emailAddress,y=l.sentVerificationEmail,C=l.errors,w=o&&o.firstName,A=o&&o.lastName,S=o&&o.username;return r.a.createElement(Ia.a,{classes:{root:a.dialogContent}},r.a.createElement(ke.a,{mb:2},r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Ra.a,{alignItems:"center",container:!0},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(ke.a,{textAlign:"center"},r.a.createElement(ke.a,{mb:1.5},p&&h&&r.a.createElement(ut.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Ja.a,{title:"Remove"},r.a.createElement(Me.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:u,size:"small",onClick:this.removeAvatar},r.a.createElement(Za.a,{fontSize:"small"})))},d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(mt.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(Oe.a,{size:120,thickness:1.8}))},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:h})),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:h})),!p&&!h&&r.a.createElement(r.a.Fragment,null,n.photoURL&&r.a.createElement(ut.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Ja.a,{title:"Remove"},r.a.createElement(Me.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:u,size:"small",onClick:this.removeAvatar},r.a.createElement(Za.a,{fontSize:"small"})))},d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(mt.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(Oe.a,{size:120,thickness:1.8}))},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!n.photoURL&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(mt.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(Oe.a,{size:120,thickness:1.8}))},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(Ue.a,{className:a.nameInitials,variant:"h2"},this.getNameInitialsOrIcon()))),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(Ue.a,{className:a.nameInitials,variant:"h2"},this.getNameInitialsOrIcon()))))),p&&h&&r.a.createElement(g.a,{color:"primary",disabled:u,startIcon:r.a.createElement(yt.a,null),variant:"contained",onClick:this.uploadAvatar},"Upload"),!p&&!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"avatar-input",type:"file",hidden:!0,accept:"image/*",onChange:this.handleAvatarChange}),r.a.createElement("label",{htmlFor:"avatar-input"},r.a.createElement(g.a,{color:"primary",component:"span",disabled:u,startIcon:r.a.createElement(vt.a,null),variant:"contained"},"Choose..."))))),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(ke.a,{textAlign:"center"},r.a.createElement(Ue.a,{variant:"body1"},"Profile Completion"),0===s&&r.a.createElement(Ue.a,{color:"error",variant:"h5"},s,"%"),100===s&&r.a.createElement(Ue.a,{color:"primary",variant:"h5"},s,"%"),0!==s&&100!==s&&r.a.createElement(Ue.a,{color:"secondary",variant:"h5"},s,"%"))),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(ke.a,{textAlign:"center"},r.a.createElement(Ue.a,{variant:"body1"},"Security Rating"),0===c&&r.a.createElement(Ue.a,{color:"error",variant:"h5"},c,"%"),100===c&&r.a.createElement(Ue.a,{color:"primary",variant:"h5"},c,"%"),0!==c&&100!==c&&r.a.createElement(Ue.a,{color:"secondary",variant:"h5"},c,"%"))))),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(ke.a,{textAlign:"center",mb:3},r.a.createElement(ke.a,{mb:1.5},p&&h&&r.a.createElement(ut.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Ja.a,{title:"Remove"},r.a.createElement(Me.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:u,size:"small",onClick:this.removeAvatar},r.a.createElement(Za.a,{fontSize:"small"})))},d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(mt.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(Oe.a,{size:120,thickness:1.8}))},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:h})),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:h})),!p&&!h&&r.a.createElement(r.a.Fragment,null,n.photoURL&&r.a.createElement(ut.a,{classes:{badge:a.badge},badgeContent:r.a.createElement(Ja.a,{title:"Remove"},r.a.createElement(Me.a,{classes:{sizeSmall:a.small},color:"secondary",disabled:u,size:"small",onClick:this.removeAvatar},r.a.createElement(Za.a,{fontSize:"small"})))},d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(Oe.a,{size:120,thickness:1.8})},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar",src:n.photoURL})),!n.photoURL&&r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(ut.a,{classes:{badge:a.loadingBadge},badgeContent:r.a.createElement(mt.a,{style:{transitionDelay:"1s"},in:d,unmountOnExit:!0},r.a.createElement(Oe.a,{size:120,thickness:1.8}))},r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(Ue.a,{className:a.nameInitials,variant:"h2"},this.getNameInitialsOrIcon()))),!d&&r.a.createElement(Te.a,{className:a.avatar,alt:"Avatar"},r.a.createElement(Ue.a,{className:a.nameInitials,variant:"h2"},this.getNameInitialsOrIcon()))))),p&&h&&r.a.createElement(g.a,{color:"primary",disabled:u,startIcon:r.a.createElement(yt.a,null),variant:"contained",onClick:this.uploadAvatar},"Upload"),!p&&!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"avatar-input",type:"file",hidden:!0,accept:"image/*",onChange:this.handleAvatarChange}),r.a.createElement("label",{htmlFor:"avatar-input"},r.a.createElement(g.a,{color:"primary",component:"span",disabled:u,startIcon:r.a.createElement(vt.a,null),variant:"contained"},"Choose...")))),r.a.createElement(Ra.a,{container:!0},r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(ke.a,{textAlign:"center"},r.a.createElement(Ue.a,{variant:"body1"},"Profile Completion"),0===s&&r.a.createElement(Ue.a,{color:"error",variant:"h5"},s,"%"),100===s&&r.a.createElement(Ue.a,{color:"primary",variant:"h5"},s,"%"),0!==s&&100!==s&&r.a.createElement(Ue.a,{color:"secondary",variant:"h5"},s,"%"))),r.a.createElement(Ra.a,{item:!0,xs:!0},r.a.createElement(ke.a,{textAlign:"center"},r.a.createElement(Ue.a,{variant:"body1"},"Security Rating"),0===c&&r.a.createElement(Ue.a,{color:"error",variant:"h5"},c,"%"),100===c&&r.a.createElement(Ue.a,{color:"primary",variant:"h5"},c,"%"),0!==c&&100!==c&&r.a.createElement(Ue.a,{color:"secondary",variant:"h5"},c,"%")))))),r.a.createElement(dt.a,{disablePadding:!0},r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(Le.a,null))),!w&&r.a.createElement(ht.a,null,r.a.createElement(Ja.a,{title:"No first name"},r.a.createElement(jt.a,{color:"error"}))),"first-name"===m&&r.a.createElement(_a.a,{autoComplete:"given-name",autoFocus:!0,disabled:u,error:!(!C||!C.firstName),fullWidth:!0,helperText:C&&C.firstName?C.firstName[0]:"Press Enter to change your first name",label:"First name",placeholder:w&&o.firstName,required:!0,type:"text",value:f,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"first-name")},onChange:this.handleFirstNameChange}),"first-name"!==m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{primary:"First name",secondary:w?o.firstName:"You don\u2019t have a first name"}),r.a.createElement(gt.a,null,w&&r.a.createElement(Ja.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:u,onClick:function(){return e.showField("first-name")}},r.a.createElement(wt.a,null)))),!w&&r.a.createElement(g.a,{color:"primary",disabled:u,variant:"contained",onClick:function(){return e.showField("first-name")}},"Add")))),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(Le.a,null))),!A&&r.a.createElement(ht.a,null,r.a.createElement(Ja.a,{title:"No last name"},r.a.createElement(jt.a,{color:"error"}))),"last-name"===m&&r.a.createElement(_a.a,{autoComplete:"family-name",autoFocus:!0,disabled:u,error:!(!C||!C.lastName),fullWidth:!0,helperText:C&&C.lastName?C.lastName[0]:"Press Enter to change your last name",label:"Last name",placeholder:A&&o.lastName,required:!0,type:"text",value:E,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"last-name")},onChange:this.handleLastNameChange}),"last-name"!==m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{primary:"Last name",secondary:A?o.lastName:"You don\u2019t have a last name"}),r.a.createElement(gt.a,null,A&&r.a.createElement(Ja.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:u,onClick:function(){return e.showField("last-name")}},r.a.createElement(wt.a,null)))),!A&&r.a.createElement(g.a,{color:"primary",disabled:u,variant:"contained",onClick:function(){return e.showField("last-name")}},"Add")))),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(St.a,null))),!S&&r.a.createElement(ht.a,null,r.a.createElement(Ja.a,{title:"No username"},r.a.createElement(jt.a,{color:"error"}))),"username"===m&&r.a.createElement(_a.a,{autoComplete:"username",autoFocus:!0,disabled:u,error:!(!C||!C.username),fullWidth:!0,helperText:C&&C.username?C.username[0]:"Press Enter to change your BGG username",label:"BGG Username",placeholder:S&&o.username,required:!0,type:"text",value:v,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"username")},onChange:this.handleUsernameChange}),"username"!==m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{primary:"BGG Username",secondary:S?o.username:"You don\u2019t have a bgg username"}),r.a.createElement(gt.a,null,S&&r.a.createElement(Ja.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:u,onClick:function(){return e.showField("username")}},r.a.createElement(wt.a,null)))),!S&&r.a.createElement(g.a,{color:"primary",disabled:u,variant:"contained",onClick:function(){return e.showField("username")}},"Add")))),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(kt.a,null))),n.email&&r.a.createElement(ht.a,null,r.a.createElement(r.a.Fragment,null,n.emailVerified&&r.a.createElement(Ja.a,{title:"Verified"},r.a.createElement(xt.a,{color:"primary"})),!n.emailVerified&&r.a.createElement(Ja.a,{title:"Not verified"},r.a.createElement(jt.a,{color:"error"})))),!n.email&&r.a.createElement(ht.a,null,r.a.createElement(Ja.a,{title:"No e-mail address"},r.a.createElement(jt.a,{color:"error"}))),"email-address"===m&&r.a.createElement(_a.a,{autoComplete:"email",autoFocus:!0,disabled:u,error:!(!C||!C.emailAddress),fullWidth:!0,helperText:C&&C.emailAddress?C.emailAddress[0]:"Press Enter to change your e-mail address",label:"E-mail address",placeholder:n.email,required:!0,type:"email",value:b,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"email-address")},onChange:this.handleEmailAddressChange}),"email-address"!==m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft.a,{primary:"E-mail address",secondary:n.email?n.email:"You don\u2019t have an e-mail address"}),n.email&&!n.emailVerified&&r.a.createElement(ke.a,{clone:!0,mr:7},r.a.createElement(gt.a,null,r.a.createElement(Ja.a,{title:"Verify"},r.a.createElement("div",null,r.a.createElement(Ie.a,{color:"secondary",disabled:u||y,onClick:this.verifyEmailAddress},r.a.createElement(xt.a,null)))))),r.a.createElement(gt.a,null,n.email&&r.a.createElement(Ja.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:u,onClick:function(){return e.showField("email-address")}},r.a.createElement(wt.a,null)))),!n.email&&r.a.createElement(g.a,{color:"primary",disabled:u,variant:"contained",onClick:function(){return e.showField("email-address")}},"Add")))),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(Ut.a,null))),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ft.a,{primary:"Signed in",secondary:P()(n.metadata.lastSignInTime).format("LLLL")})),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(ft.a,{primary:"Signed in",secondary:P()(n.metadata.lastSignInTime).format("llll")}))),r.a.createElement(ke.a,{mt:1,mb:1},r.a.createElement(Fa.a,{light:!0})),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(Tt.a,null))),r.a.createElement(ft.a,{primary:"Delete account",secondary:"Accounts can\u2019t be recovered"}),r.a.createElement(gt.a,null,r.a.createElement(g.a,{color:"secondary",disabled:u,variant:"contained",onClick:i},"Delete")))))}},{key:"componentDidMount",value:function(){var e=this.props,a=e.user,t=e.userData;this.setState({profileCompletion:j.user.getProfileCompletion(Ft({},a,{},t)),securityRating:j.user.getSecurityRating(a,t)})}},{key:"componentWillUnmount",value:function(){var e=this.state.avatarUrl;e&&(URL.revokeObjectURL(e),this.setState({avatarUrl:""}))}}]),a}(n.Component),Wt=Object(ze.a)((function(e){return{dialogContent:{paddingTop:e.spacing(2)},badge:{top:e.spacing(2),right:-e.spacing(2)},loadingBadge:{top:"50%",right:"50%"},avatar:{marginRight:"auto",marginLeft:"auto",width:e.spacing(14),height:e.spacing(14)},nameInitials:{cursor:"default"},personIcon:{fontSize:e.spacing(7)},small:{width:e.spacing(4),height:e.spacing(4),minHeight:"initial"}}}))(Lt),Bt=t(341),Kt=t(359),Gt=t(354),qt=t(134),zt=t.n(qt),Mt=t(188),Vt=t.n(Mt),Ht=t(189),Yt=t.n(Ht),Jt=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handlePrimaryColorChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.primaryColor.id!==a&&t.setState({performingAction:!0},(function(){Pe.changeTheme({primaryColor:a,secondaryColor:n.secondaryColor.id,type:n.type.id}).then((function(e){t.props.openSnackbar("Changed primary color")})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}}},t.handleSecondaryColorChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.secondaryColor.id!==a&&t.setState({performingAction:!0},(function(){Pe.changeTheme({primaryColor:n.primaryColor.id,secondaryColor:a,type:n.type.id}).then((function(e){t.props.openSnackbar("Changed secondary color")})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}}},t.handleTypeChange=function(e){if(e){var a=e.target.value;if(a){var n=t.props.theme;n&&n.type.id!==a&&t.setState({performingAction:!0},(function(){Pe.changeTheme({primaryColor:n.primaryColor.id,secondaryColor:n.secondaryColor.id,type:a}).then((function(e){t.props.openSnackbar("Changed type")})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}}},t.handleResetClick=function(){var e=t.props.theme;e&&(Pe.isDefaultTheme(e)||t.setState({performingAction:!0},(function(){Pe.resetTheme().then((function(e){t.props.openSnackbar("Reset theme")})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))})))},t.state={performingAction:!1},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.theme;if(!e)return null;var a=this.state.performingAction;return r.a.createElement(Ia.a,null,r.a.createElement(dt.a,{disablePadding:!0},r.a.createElement(ke.a,{mb:1},r.a.createElement(pt.a,null,r.a.createElement(ht.a,null,r.a.createElement(zt.a,{color:"primary"})),r.a.createElement(Bt.a,{disabled:a,fullWidth:!0},r.a.createElement(Kt.a,null,"Primary color"),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Gt.a,{native:!0,value:e.primaryColor.id,onChange:this.handlePrimaryColorChange},Object.keys(Pe.colors).map((function(e){return e=Pe.colors[e],r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Gt.a,{value:e.primaryColor.id,onChange:this.handlePrimaryColorChange},Object.keys(Pe.colors).map((function(e){return e=Pe.colors[e],r.a.createElement(Fe.a,{key:e.id,value:e.id},e.name)}))))))),r.a.createElement(ke.a,{mb:1},r.a.createElement(pt.a,null,r.a.createElement(ht.a,null,r.a.createElement(zt.a,{color:"secondary"})),r.a.createElement(Bt.a,{disabled:a,fullWidth:!0},r.a.createElement(Kt.a,null,"Secondary color"),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Gt.a,{native:!0,value:e.secondaryColor.id,onChange:this.handleSecondaryColorChange},Object.keys(Pe.colors).map((function(e){return e=Pe.colors[e],r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Gt.a,{value:e.secondaryColor.id,onChange:this.handleSecondaryColorChange},Object.keys(Pe.colors).map((function(e){return e=Pe.colors[e],r.a.createElement(Fe.a,{key:e.id,value:e.id},e.name)}))))))),r.a.createElement(ke.a,{mb:1},r.a.createElement(pt.a,null,r.a.createElement(ht.a,null,r.a.createElement(Vt.a,null)),r.a.createElement(Bt.a,{disabled:a,fullWidth:!0},r.a.createElement(Kt.a,null,"Type"),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Gt.a,{native:!0,value:e.type.id,onChange:this.handleTypeChange},Object.keys(Pe.types).map((function(e){return e=Pe.types[e],r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Gt.a,{value:e.type.id,onChange:this.handleTypeChange},Object.keys(Pe.types).map((function(e){return e=Pe.types[e],r.a.createElement(Fe.a,{key:e.id,value:e.id},e.name)}))))))),r.a.createElement(ke.a,{mt:2,mb:1},r.a.createElement(Fa.a,{light:!0})),r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(Yt.a,null))),r.a.createElement(ft.a,{primary:"Reset theme",secondary:"Changes will be reset"}),r.a.createElement(gt.a,null,r.a.createElement(g.a,{color:"secondary",disabled:Pe.isDefaultTheme(e)||a,variant:"contained",onClick:this.handleResetClick},"Reset")))))}}]),a}(n.Component),Xt=t(190),$t=t.n(Xt),Qt=t(121),Zt=t.n(Qt),en=t(122),an=t.n(en),tn=t(123),nn=t.n(tn),rn=t(124),on=t.n(rn),ln=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).linkAuthProvider=function(e){t.setState({performingAction:!0},(function(){j.linkAuthProvider(e.providerId).then((function(a){t.props.openSnackbar("".concat(e.name," linked"),5)})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.unlinkAuthProvider=function(e){t.setState({performingAction:!0},(function(){j.unlinkAuthProvider(e.providerId).then((function(a){t.props.openSnackbar("".concat(e.name," unlinked"),4)})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.state={performingAction:!1},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.theme,t=this.state.performingAction,n=[{providerId:"facebook.com",color:"#3c5a99",icon:r.a.createElement(Zt.a,null),name:"Facebook"},{providerId:"github.com",color:"#24292e",icon:r.a.createElement(Je.a,null),name:"GitHub"},{providerId:"google.com",color:"#4285f4",icon:r.a.createElement(Wa.a,null),name:"Google"},{providerId:"microsoft.com",color:"#f65314",icon:r.a.createElement(an.a,null),name:"Microsoft"},{providerId:"twitter.com",color:"#1da1f2",icon:r.a.createElement(nn.a,null),name:"Twitter"},{providerId:"yahoo.com",color:"#410093",icon:r.a.createElement(on.a,null),name:"Yahoo"}];return r.a.createElement(Ia.a,null,r.a.createElement(dt.a,{disablePadding:!0},n.map((function(n){var o=j.authProviderData(n.providerId),i=null;if(o){var l=o.displayName,s=o.email,c=o.phoneNumber;i=l||s||c}return r.a.createElement(pt.a,{key:n.providerId},r.a.createElement(ht.a,null,r.a.createElement(ke.a,{color:"light"===a.type.id?n.color:null},n.icon)),o&&r.a.createElement(ft.a,{primary:n.name,secondary:i}),!o&&r.a.createElement(ft.a,{primary:n.name}),r.a.createElement(gt.a,null,o&&r.a.createElement(Ja.a,{title:"Unlink"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:t,onClick:function(){return e.unlinkAuthProvider(n)}},r.a.createElement($t.a,null)))),!o&&r.a.createElement(Ja.a,{title:"Link"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:t,onClick:function(){return e.linkAuthProvider(n)}},r.a.createElement(ot.a,null))))))}))))}}]),a}(n.Component),sn=t(191),cn=t.n(sn),mn={showingField:"",password:"",passwordConfirmation:"",performingAction:!1,errors:null},un=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).showField=function(e){e&&t.setState({showingField:e})},t.hideFields=function(e){t.setState({showingField:"",password:"",passwordConfirmation:"",errors:null},(function(){e&&"function"===typeof e&&e()}))},t.changeField=function(e){switch(e){case"password":var a=t.state.password,n=xa()({password:a},{password:Ga.password});return n?void t.setState({errors:n}):void t.setState({errors:null},(function(){t.showField("password-confirmation")}));case"password-confirmation":return void t.changePassword();default:return}},t.changePassword=function(){var e=t.state,a=e.password,n=e.passwordConfirmation,r=xa()({password:a,passwordConfirmation:n},{password:Ga.password,passwordConfirmation:Ga.passwordConfirmation});r?t.setState({errors:r}):t.setState({errors:null},(function(){t.setState({performingAction:!0},(function(){j.changePassword(a).then((function(){t.hideFields((function(){t.props.openSnackbar("Changed password")}))})).catch((function(e){e.code;var a=e.message;t.props.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))}))},t.handleKeyDown=function(e,a){if(e&&a&&!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var n=e.key;n&&("Escape"===n?t.hideFields():"Enter"===n&&t.changeField(a))}},t.handlePasswordChange=function(e){if(e){var a=e.target.value;t.setState({password:a})}},t.handlePasswordConfirmationChange=function(e){if(e){var a=e.target.value;t.setState({passwordConfirmation:a})}},t.state=mn,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props.userData,t=this.state,n=t.showingField,o=t.password,i=t.passwordConfirmation,l=t.performingAction,s=t.errors,c=a&&a.lastPasswordChange;return r.a.createElement(Ia.a,null,r.a.createElement(dt.a,{disablePadding:!0},r.a.createElement(pt.a,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ht.a,null,r.a.createElement(cn.a,null))),"password"===n&&r.a.createElement(_a.a,{autoComplete:"new-password",autoFocus:!0,disabled:l,error:!(!s||!s.password),fullWidth:!0,helperText:s&&s.password?s.password[0]:"Press Enter to change your password",label:"Password",required:!0,type:"password",value:o,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"password")},onChange:this.handlePasswordChange}),"password-confirmation"===n&&r.a.createElement(_a.a,{autoComplete:"new-password",autoFocus:!0,disabled:l,error:!(!s||!s.passwordConfirmation),fullWidth:!0,helperText:s&&s.passwordConfirmation?s.passwordConfirmation[0]:"Press Enter to change your password",label:"Password confirmation",required:!0,type:"password",value:i,variant:"filled",onBlur:this.hideFields,onKeyDown:function(a){return e.handleKeyDown(a,"password-confirmation")},onChange:this.handlePasswordConfirmationChange}),"password"!==n&&"password-confirmation"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(ft.a,{primary:"Password",secondary:c?"Last changed ".concat(P()(a.lastPasswordChange.toDate()).format("LL")):"Never changed"})),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(ft.a,{primary:"Password",secondary:c?"Last changed ".concat(P()(a.lastPasswordChange.toDate()).format("ll")):"Never changed"})),r.a.createElement(gt.a,null,r.a.createElement(Ja.a,{title:"Change"},r.a.createElement("div",null,r.a.createElement(Ie.a,{disabled:l,onClick:function(){return e.showField("password")}},r.a.createElement(wt.a,null)))))))))}}]),a}(n.Component),dn=[{key:"account",icon:r.a.createElement(at.a,null),label:"Account"},{key:"appearance",icon:r.a.createElement(nt.a,null),label:"Appearance"},{key:"links",icon:r.a.createElement(ot.a,null),label:"Links"},{key:"security",icon:r.a.createElement(lt.a,null),label:"Security"}],pn={selectedTab:0},hn=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleExited=function(){t.setState(pn)},t.handleTabChange=function(e,a){t.setState({selectedTab:a})},t.handleIndexChange=function(e){t.setState({selectedTab:e})},t.state=pn,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.props,n=t.user,o=t.userData,i=t.theme,l=this.props.openSnackbar,s=this.props.onDeleteAccountClick,c=this.state.selectedTab;return r.a.createElement(Na.a,Object.assign({},a,{onExited:this.handleExited}),r.a.createElement(Ua.a,{disableTypography:!0},r.a.createElement(Ue.a,{variant:"h6"},"Settings"),r.a.createElement(Ja.a,{title:"Close"},r.a.createElement(Ie.a,{className:e.closeButton,onClick:a.onClose},r.a.createElement(Za.a,null)))),r.a.createElement(ja.a,{xsDown:!0},r.a.createElement(Xa.a,{classes:{root:e.tabs},style:{overflow:"initial",minHeight:"initial"},indicatorColor:"primary",textColor:"primary",value:c,variant:"fullWidth",onChange:this.handleTabChange},dn.map((function(e){return r.a.createElement($a.a,{key:e.key,icon:e.icon,label:e.label})})))),r.a.createElement(ja.a,{smUp:!0},r.a.createElement(Xa.a,{classes:{root:e.tabs},style:{overflow:"initial",minHeight:"initial"},indicatorColor:"primary",scrollButtons:"off",textColor:"primary",value:c,variant:"scrollable",onChange:this.handleTabChange},dn.map((function(e){return r.a.createElement($a.a,{key:e.key,icon:e.icon,label:e.label})})))),r.a.createElement(ct.a,{index:c,onChangeIndex:this.handleIndexChange},r.a.createElement(Wt,{user:n,userData:o,openSnackbar:l,onDeleteAccountClick:s}),r.a.createElement(Jt,{theme:i,openSnackbar:l}),r.a.createElement(ln,{theme:i,openSnackbar:l}),r.a.createElement(un,{user:n,userData:o,openSnackbar:l})))}}]),a}(n.Component),fn=Object(ze.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},tabs:{display:"initial"}}}))(hn),gn=t(348),En={username:""},vn=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).handleKeyPress=function(e){var a=t.props.userData;if(a&&a.username){var n=t.state.username;if(!n)return;if(n!==a.username)return}var r=e.key;e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Enter"===r&&t.props.deleteAccount()},t.handleExited=function(){t.setState(En)},t.handleUsernameChange=function(e){var a=e.target.value;t.setState({username:a})},t.state=En,t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.dialogProps,a=this.props,t=a.performingAction,n=a.userData,o=this.props.deleteAccount,i=this.state.username,l=n&&n.username;return r.a.createElement(Na.a,Object.assign({},e,{onKeyPress:this.handleKeyPress,onExited:this.handleExited}),r.a.createElement(Ua.a,null,"Delete account?"),r.a.createElement(Ia.a,null,r.a.createElement(ke.a,{mb:l?2:0},r.a.createElement(gn.a,null,"Deleted accounts can\u2019t be recovered. All data associated with your account will be deleted."),l&&r.a.createElement(gn.a,null,"Type your username and ",r.a.createElement(ja.a,{xsDown:!0},"click"),r.a.createElement(ja.a,{smUp:!0},"tap")," Delete to delete your account. This action is irreversible.")),l&&r.a.createElement(_a.a,{autoComplete:"username",autoFocus:!0,color:"secondary",disabled:t,fullWidth:!0,label:"Username",placeholder:n.username,required:!0,type:"text",value:i,variant:"outlined",onChange:this.handleUsernameChange})),r.a.createElement(Ta.a,null,r.a.createElement(g.a,{color:"secondary",disabled:t,onClick:e.onClose},"Cancel"),r.a.createElement(g.a,{color:"secondary",disabled:t||l&&i!==n.username,variant:"contained",onClick:o},"Delete")))}}]),a}(n.Component),bn=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.props.dialogProps,t=this.props,n=t.title,o=t.contentText,i=t.dismissiveAction,l=t.confirmingAction,s=t.acknowledgementAction;return(i||l)&&s?(console.error("Dialogs should contain a maximum of two actions. If a single action is provided, it must be an acknowledgement action. If two actions are provided, one must be a confirming action, and the other a dismissing action. Providing a third action such as \u201cLearn more\u201d is not recommended as it navigates the user away from the dialog, leaving the dialog task unfinished. https://material.io/design/components/dialogs.html#actions"),null):r.a.createElement(Na.a,a,n&&r.a.createElement(Ua.a,null,n),r.a.createElement(Ia.a,{className:n?null:e.noTitlePadding},r.a.createElement(gn.a,null,o)),(i||l||s)&&r.a.createElement(Ta.a,null,i,l,s))}}]),a}(n.Component),yn=Object(ze.a)((function(e){return{noTitlePadding:{paddingTop:e.spacing(3)}}}))(bn);function Cn(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function wn(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Cn(t,!0).forEach((function(a){Object(De.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cn(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var An=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.user,t=e.dialogs,n=t.signUpDialog,o=t.signInDialog,i=t.settingsDialog,l=t.deleteAccountDialog,s=t.signOutDialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.a,{xsDown:!0},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,Object.assign({dialogProps:l.dialogProps},l.props))),!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,Object.assign({dialogProps:n.dialogProps},n.props)),r.a.createElement(Ya,Object.assign({dialogProps:o.dialogProps},o.props)))),r.a.createElement(ja.a,{smDown:!0},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fn,Object.assign({dialogProps:i.dialogProps},i.props)))),r.a.createElement(ja.a,{smUp:!0},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,Object.assign({dialogProps:wn({fullScreen:!0},l.dialogProps)},l.props))),!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma,Object.assign({dialogProps:wn({fullScreen:!0},n.dialogProps)},n.props)),r.a.createElement(Ya,Object.assign({dialogProps:wn({fullScreen:!0},o.dialogProps)},o.props)))),r.a.createElement(ja.a,{mdUp:!0},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(fn,Object.assign({dialogProps:wn({fullScreen:!0},i.dialogProps)},i.props)))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(yn,Object.assign({dialogProps:s.dialogProps},s.props))))}}]),a}(n.Component),Sn=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).openDialog=function(e,a){var n=t.state[e];n&&void 0!==n.open&&(n.open=!0,t.setState({dialog:n},a))},t.closeDialog=function(e,a){var n=t.state[e];n&&void 0!==n.open&&(n.open=!1,t.setState({dialog:n},a))},t.deleteAccount=function(){t.setState({performingAction:!0},(function(){j.deleteAccount().then((function(){t.closeDialog("deleteAccountDialog",(function(){t.openSnackbar("Deleted account")}))})).catch((function(e){e.code;var a=e.message;t.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.signOut=function(){t.setState({performingAction:!0},(function(){j.signOut().then((function(){t.closeDialog("signOutDialog",(function(){t.openSnackbar("Signed out")}))})).catch((function(e){e.code;var a=e.message;t.openSnackbar(a)})).finally((function(){t.setState({performingAction:!1})}))}))},t.openSnackbar=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0;t.setState({snackbar:{autoHideDuration:p()(e).time*a,message:e,open:!0}},(function(){n&&"function"===typeof n&&n()}))},t.closeSnackbar=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=t.state.snackbar;t.setState({snackbar:{message:e?"":a.message,open:!1}})},t.state={user:null,userData:null,theme:Pe.defaultTheme,ready:!1,performingAction:!1,signUpDialog:{open:!1},signInDialog:{open:!1},settingsDialog:{open:!1},deleteAccountDialog:{open:!1},signOutDialog:{open:!1},snackbar:{autoHideDuration:0,message:"",open:!1}},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.user,n=a.userData,o=a.theme,i=a.ready,l=a.performingAction,s=this.state,c=s.signUpDialog,m=s.signInDialog,u=s.settingsDialog,d=s.deleteAccountDialog,p=s.signOutDialog,v=this.state.snackbar;return r.a.createElement(h.a,{theme:o},r.a.createElement(f.a,null),!i&&r.a.createElement(je,null),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{performingAction:l,user:t,userData:n,onSignUpClick:function(){return e.openDialog("signUpDialog")},onSignInClick:function(){return e.openDialog("signInDialog")},onSettingsClick:function(){return e.openDialog("settingsDialog")},onSignOutClick:function(){return e.openDialog("signOutDialog")}}),r.a.createElement(Oa,{user:t,userData:n}),r.a.createElement(An,{user:t,dialogs:{signUpDialog:{dialogProps:{open:c.open,onClose:function(a){e.closeDialog("signUpDialog"),a&&"function"===typeof a&&a()}},props:{performingAction:l,openSnackbar:this.openSnackbar}},signInDialog:{dialogProps:{open:m.open,onClose:function(a){e.closeDialog("signInDialog"),a&&"function"===typeof a&&a()}},props:{performingAction:l,openSnackbar:this.openSnackbar}},settingsDialog:{dialogProps:{open:u.open,onClose:function(){return e.closeDialog("settingsDialog")}},props:{user:t,userData:n,theme:o,openSnackbar:this.openSnackbar,onDeleteAccountClick:function(){return e.openDialog("deleteAccountDialog")}}},deleteAccountDialog:{dialogProps:{open:d.open,onClose:function(){return e.closeDialog("deleteAccountDialog")}},props:{performingAction:l,userData:n,deleteAccount:this.deleteAccount}},signOutDialog:{dialogProps:{open:p.open,onClose:function(){return e.closeDialog("signOutDialog")}},props:{title:"Sign out?",contentText:"While signed out you are unable to manage your profile and conduct other activities that require you to be signed in.",dismissiveAction:r.a.createElement(g.a,{color:"primary",onClick:function(){return e.closeDialog("signOutDialog")}},"Cancel"),confirmingAction:r.a.createElement(g.a,{color:"primary",disabled:l,variant:"contained",onClick:this.signOut},"Sign Out")}}}}),r.a.createElement(E.a,{autoHideDuration:v.autoHideDuration,message:v.message,open:v.open,onClose:this.closeSnackbar})))}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.removeAuthStateChangedObserver=C.onAuthStateChanged((function(a){if(!a)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0}));var t=a.uid;if(!t)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0}));var n=w.collection("users").doc(t);if(!n)return e.removeReferenceListener&&e.removeReferenceListener(),void(e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0}));e.removeReferenceListener=n.onSnapshot((function(t){if(t.exists){var n=t.data();n?(n.theme?e.setState({theme:Pe.createTheme(n.theme)}):e.setState({theme:Pe.defaultTheme}),e.mounted&&e.setState({user:a,userData:n,ready:!0})):e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0})}else e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0})}),(function(a){e.mounted&&e.setState({user:null,userData:null,theme:Pe.defaultTheme,ready:!0},(function(){a.code;var t=a.message;e.openSnackbar(t)}))}))}))}},{key:"componentWillUnmount",value:function(){this.removeAuthStateChangedObserver&&this.removeAuthStateChangedObserver(),this.removeReferenceListener&&this.removeReferenceListener(),this.mounted=!1}}]),a}(n.Component),Pn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kn(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Sn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/js-for-wp/bgg-browser-app/build",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/js-for-wp/bgg-browser-app/build","/service-worker.js");Pn?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):kn(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):kn(a,e)}))}}()}},[[212,1,2]]]);
//# sourceMappingURL=main.6b96beac.chunk.js.map