{"version":3,"sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","js/app.js","js/index.js"],"names":["App","obj","app","document","getElementById","sidebar","wpApi","insertAdjacentHTML","menu","querySelector","Array","from","querySelectorAll","forEach","menuItem","getAttribute","addEventListener","renderHome","bind","renderPosts","renderPage","replaceContent","event","target","fetch","then","resp","json","data","postsHtml","post","id","title","rendered","posts","replaceSidebar","renderPost","pageId","dataset","pageid","content","postId","postid","postHtml","contDiv","remove","renderMainNav"],"mappings":"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","file":"js.bebc9620.js","sourceRoot":"../src","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export class App {\n  constructor(obj) {\n    this.app = document.getElementById('app');\n    this.sidebar = document.getElementById('sidebar');\n    this.wpApi = \"https://firebrandtalent.com/wp-json/wp/v2\";\n  }\n\n  renderMainNav() {\n    // Generate the Menu HTML\n    const menuHtml = `\n      <div class=\"nav\">\n        <a href=\"#home\">Home</a>\n        <a href=\"#about\" data-pageid=\"8878\">About Firbrand</a>\n        <a href=\"#policy\" data-pageid=\"29757\">CSR Policy</a>\n        <a href=\"#posts\">Posts</a>\n      </div>\n    `;\n\n    // Insert the Menu on the page\n    this.app.insertAdjacentHTML('afterbegin', menuHtml);\n    \n    // Save a referene to the Menu\n    this.menu = this.app.querySelector('.nav');\n\n    // Setup menu events\n    const menuItems = Array.from(this.menu.querySelectorAll('a'));\n    menuItems.forEach(menuItem => {\n      if (menuItem.getAttribute('href') === '#home') {\n        menuItem.addEventListener('click', this.renderHome.bind(this));\n      } else if (menuItem.getAttribute('href') === '#posts') {\n        menuItem.addEventListener('click', this.renderPosts.bind(this));\n      } else {\n        menuItem.addEventListener('click', this.renderPage.bind(this));\n      }\n    });\n  }\n\n  renderHome() {\n    const homeHtml = `<p>Welcome to VanillaPress. Use the menu to navigate the site.</p>`;\n\n    this.replaceContent(homeHtml);\n  }\n\n  renderPosts(event, target = 'content') {\n    // Pull the posts from the WP API\n    fetch(`${this.wpApi}/posts`).then(resp => {\n      return resp.json();\n    }).then(data => {\n      // Add the posts to the page\n      let postsHtml = `<ul class=\"postlist\">`;\n      data.forEach(post => {\n        postsHtml += `<li><a href=\"#post-${post.id}\" data-postid=\"${post.id}\">${post.title.rendered}</a></li>`\n      });\n      postsHtml += `</ul>`;\n\n      let posts = null;\n      if (target === 'content') {\n        this.replaceContent(postsHtml);\n        posts = this.app.querySelectorAll('.postlist a');\n      } else {\n        this.replaceSidebar(postsHtml);\n        posts = this.sidebar.querySelectorAll('.postlist a');\n      }\n\n      // Attach Click events to the page\n      posts.forEach(post => {\n        post.addEventListener('click', this.renderPost.bind(this));\n      });\n    });\n  }\n\n  renderPage(event) {\n    const target = event.target;\n    const pageId = target.dataset.pageid;\n\n    fetch(`${this.wpApi}/pages/${pageId}`).then(resp => {\n      return resp.json();\n    }).then(data => {\n      this.replaceContent(data.content.rendered);\n    });\n  }\n\n  renderPost(event) {\n    const target = event.target;\n    const postId = target.dataset.postid;\n\n    fetch(`${this.wpApi}/posts/${postId}`).then(resp => {\n      return resp.json();\n    }).then(data => {\n      const postHtml = `\n        <h3>${data.title.rendered}</h3>\n        <div class=\"postcontent\">${data.content.rendered}</div>\n      `;\n      this.replaceContent(postHtml);\n    });\n\n    this.renderPosts(null, 'sidebar');\n  }\n\n  replaceContent(content) {\n    const contDiv = this.app.querySelector('.content');\n    if (contDiv) {\n      contDiv.remove();\n    }\n\n    this.app.insertAdjacentHTML('beforeend', `\n      <div class=\"content\">${content}</div>\n    `);\n  }\n\n  replaceSidebar(content) {\n    const contDiv = this.sidebar.querySelector('.sbcontent');\n    if (contDiv) {\n      contDiv.remove();\n    }\n\n    this.sidebar.insertAdjacentHTML('beforeend', `\n      <div class=\"sbcontent\">${content}</div>\n    `);\n  }\n\n}","import { App } from './app';\n\nconst app = new App();\napp.renderMainNav();\napp.renderHome();\n\n\n"]}